From cbe049b1229ca9119576d61eb6d88e808e0f82cd Mon Sep 17 00:00:00 2001
From: Jason Hung <jhung@globalscaletechnologies.com>
Date: Mon, 23 Sep 2024 11:08:17 +0800
Subject: [PATCH 2/5] dts: gti-mt510ss-evk: add 5G modem power on regulator

add 5G modem power on regulator to turn on 5g modem
---
 .../boot/dts/mediatek/gti-mt510ss-evk.dts     | 21 +++++++++++++++++++
 1 file changed, 21 insertions(+)

diff --git a/arch/arm64/boot/dts/mediatek/gti-mt510ss-evk.dts b/arch/arm64/boot/dts/mediatek/gti-mt510ss-evk.dts
index c62d87cd98c9..3a121a69d0b4 100644
--- a/arch/arm64/boot/dts/mediatek/gti-mt510ss-evk.dts
+++ b/arch/arm64/boot/dts/mediatek/gti-mt510ss-evk.dts
@@ -129,6 +129,27 @@ usb_p2_vbus: usb-p2-vbus {
 		enable-active-high;
 	};
 
+	fcpo_1v8: regulator@1 {
+		compatible = "regulator-fixed";
+		regulator-name = "fcpo_1v8";
+		regulator-min-microvolt = <1800000>;
+		regulator-max-microvolt = <1800000>;
+		gpio = <&pio 12 0>; /* 5G FULL_CARD_POWER_OFF */
+		startup-delay-us = <15000>;
+		enable-active-high;
+	};
+
+	onboard_m2: regulator@2 {
+		compatible = "regulator-fixed";
+		regulator-name = "5g_reset";
+		regulator-min-microvolt = <1800000>;
+		regulator-max-microvolt = <1800000>;
+		gpio = <&pio 113 0>; /* M2_RESET */
+		vin-supply = <&fcpo_1v8>;
+		enable-active-high;
+		regulator-always-on;
+	};
+
 	hub3v3: regulator@4 {
 		compatible = "regulator-fixed";
 		regulator-name = "vhub3v3";
-- 
2.34.1

